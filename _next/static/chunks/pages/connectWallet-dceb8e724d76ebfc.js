(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[504],{6237:function(e,t,s){"use strict";s.d(t,{s:function(){return i}});var n=s(7218),r=s(6441),a=s(9251);function i(e){let t=(0,a.Y0)(e);if(t.length>31)throw Error("bytes32 string must be less than 32 bytes");return(0,r.Dv)((0,r.zo)([t,n.R]).slice(0,32))}},6137:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/connectWallet",function(){return s(6823)}])},898:function(e,t,s){"use strict";s.d(t,{PZ:function(){return a},fs:function(){return r},nZ:function(){return n}});let n=()=>"0xc8E2FaF350388bD4F93B99824350E675C67fE34b",r=()=>"0xda77F70aab80ea5395034829E161B4800061B8E0",a=()=>"0x11227D571C56550862e0ae10122a2F5Aa96089FB"},6823:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var n=s(5893),r=s(7294),a=s(3100),i=s(204),l=s(654),u=s(6177),o=s(8129),d=s(6877),c=s(5227),p=s(5059),m=s(4662),y=s(3179),h=s(1337),f=s(5432),[b,g]=(0,c.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "}),w=(0,p.G)((e,t)=>{let s=(0,m.jC)("FormError",e),r=(0,y.Lr)(e),a=(0,l.NJ)();return(null==a?void 0:a.isInvalid)?(0,n.jsx)(b,{value:s,children:(0,n.jsx)(h.m.div,{...null==a?void 0:a.getErrorMessageProps(r,t),className:(0,f.cx)("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...s.text}})}):null});w.displayName="FormErrorMessage",(0,p.G)((e,t)=>{let s=g(),r=(0,l.NJ)();if(!(null==r?void 0:r.isInvalid))return null;let a=(0,f.cx)("chakra-form__error-icon",e.className);return(0,n.jsx)(d.J,{ref:t,"aria-hidden":!0,...e,__css:s.icon,className:a,children:(0,n.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}).displayName="FormErrorIcon";var x=s(9222),v=s(7536),_=s(6076),N=s(6237),j=s(9337),E=s(1163),I=s(9595),k=s(898),C=s(5072),F=s(4480);let T=()=>{let e=(0,E.useRouter)(),[t,s]=(0,F.FV)(C.Z),d=(0,F.sJ)(C.K),{register:c,handleSubmit:p,formState:{errors:m}}=(0,v.cI)(),[y,h]=(0,r.useState)(),[f,b]=(0,r.useState)(),[g,T]=(0,r.useState)(),[M,S]=(0,r.useState)(),A=(0,k.nZ)(),P=I.Mt;(0,r.useEffect)(()=>{d&&e.push("/")},[]);let R=async t=>{let s=new _.CH(A,P,f),n=N.s(t.email),r=N.s(t.password);try{await s.registerUser(n,r),alert("Sign Up Success!"),e.push("/signIn")}catch(e){alert("Sign Up Failed... Try Again")}},q=async(e,t)=>{let s=new _.CH(A,P,e),n=await s.isRegistered(t);return n},U=(0,r.useCallback)(async()=>{try{void 0===window.ethereum&&(alert("Please Install Metamask"),e.push("https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn"));let t=Z(),s=await H(t);J(s).then(e=>q(s,e)).then(t=>{t&&e.push("/signIn")})}catch(e){console.error(e)}},[]),Z=()=>{let e=new j.Q(window.ethereum);return h(e),e},H=async e=>{await e.send("eth_requestAccounts",[]);let t=e.getSigner();return b(t),t},J=async e=>{let t=await Promise.all([e.getAddress(),e.getBalance(),e.getChainId()]);return s(t[0]),T(Number(t[1])),S(t[2]),t[0]};return(0,n.jsx)(a.xu,{w:"100%",children:(0,n.jsx)(i.k,{flexDir:"column",h:"90vh",alignItems:"center",justifyContent:"center",children:t?(0,n.jsxs)("form",{onSubmit:p(e=>R(e)),style:{width:"50vw"},children:[(0,n.jsxs)(l.NI,{isRequired:!0,children:[(0,n.jsx)(u.l,{children:"Email"}),(0,n.jsx)(o.I,{type:"email",placeholder:"Input Email.",...c("email")})]}),(0,n.jsxs)(l.NI,{isRequired:!0,my:"10",children:[(0,n.jsx)(u.l,{children:"Password"}),(0,n.jsx)(o.I,{type:"password",placeholder:"Input Password.",...c("password",{pattern:{value:/^.*(?=^.{8,15}$)(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&+=]).*$/,message:"Please enter at least one letter each for English, special, and number."},minLength:{value:8,message:"Password is at least 8 digits long."},maxLength:{value:15,message:"The password can be up to 15 digits."}})}),m.password&&(0,n.jsx)(w,{children:m.password.message})]}),(0,n.jsxs)(l.NI,{isRequired:!0,children:[(0,n.jsx)(u.l,{children:"Password Confirm"}),(0,n.jsx)(o.I,{type:"password",placeholder:"Repeat Password.",...c("passwordConfirm")})]}),(0,n.jsx)(x.z,{type:"submit",mt:"10",children:"Sign Up"})]}):(0,n.jsx)(x.z,{onClick:U,children:"Connect Wallet"})})})};var M=T},6601:function(){},6177:function(e,t,s){"use strict";s.d(t,{l:function(){return d}});var n=s(654),r=s(5059),a=s(4662),i=s(3179),l=s(1337),u=s(5432),o=s(5893),d=(0,r.G)(function(e,t){var s;let r=(0,a.mq)("FormLabel",e),d=(0,i.Lr)(e),{className:p,children:m,requiredIndicator:y=(0,o.jsx)(c,{}),optionalIndicator:h=null,...f}=d,b=(0,n.NJ)(),g=null!=(s=null==b?void 0:b.getLabelProps(f,t))?s:{ref:t,...f};return(0,o.jsxs)(l.m.label,{...g,className:(0,u.cx)("chakra-form__label",d.className),__css:{display:"block",textAlign:"start",...r},children:[m,(null==b?void 0:b.isRequired)?y:h]})});d.displayName="FormLabel";var c=(0,r.G)(function(e,t){let s=(0,n.NJ)(),r=(0,n.e)();if(!(null==s?void 0:s.isRequired))return null;let a=(0,u.cx)("chakra-form__required-indicator",e.className);return(0,o.jsx)(l.m.span,{...null==s?void 0:s.getRequiredIndicatorProps(e,t),__css:r.requiredIndicator,className:a})});c.displayName="RequiredIndicator"},9595:function(e){"use strict";e.exports=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"userAddress","type":"address"}],"name":"UserAuthenticated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"userAddress","type":"address"},{"indexed":false,"internalType":"bytes32","name":"emailHash","type":"bytes32"}],"name":"UserRegistered","type":"event"},{"inputs":[{"internalType":"bytes32","name":"emailHash","type":"bytes32"},{"internalType":"bytes32","name":"passwordHash","type":"bytes32"}],"name":"authenticateUser","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"increment","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"isRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"number","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"emailHash","type":"bytes32"},{"internalType":"bytes32","name":"passwordHash","type":"bytes32"}],"name":"registerUser","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newNumber","type":"uint256"}],"name":"setNumber","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')}},function(e){e.O(0,[7,182,774,888,179],function(){return e(e.s=6137)}),_N_E=e.O()}]);