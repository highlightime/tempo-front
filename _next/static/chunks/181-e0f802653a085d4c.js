"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{3863:function(e,t,o){o.d(t,{B:function(){return m},m:function(){return f}});var a=o(5227),n=o(2495),r=o(5059),i=o(4662),s=o(3179),l=o(1337),u=o(5432),d=o(7052),c=o(7294),p=o(5893),[k,f]=(0,a.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),m=(0,r.G)(function(e,t){let o=(0,i.jC)("Input",e),{children:a,className:r,...f}=(0,s.Lr)(e),m=(0,u.cx)("chakra-input__group",r),g={},h=(0,n.W)(a),y=o.field;h.forEach(e=>{var t,a;o&&(y&&"InputLeftElement"===e.type.id&&(g.paddingStart=null!=(t=y.height)?t:y.h),y&&"InputRightElement"===e.type.id&&(g.paddingEnd=null!=(a=y.height)?a:y.h),"InputRightAddon"===e.type.id&&(g.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(g.borderStartRadius=0))});let v=h.map(t=>{var o,a;let n=(0,d.o)({size:(null==(o=t.props)?void 0:o.size)||e.size,variant:(null==(a=t.props)?void 0:a.variant)||e.variant});return"Input"!==t.type.id?(0,c.cloneElement)(t,n):(0,c.cloneElement)(t,Object.assign(n,g,t.props))});return(0,p.jsx)(l.m.div,{className:m,ref:t,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate"},"data-group":!0,...f,children:(0,p.jsx)(k,{value:o,children:v})})});m.displayName="InputGroup"},5322:function(e,t,o){o.d(t,{Ui:function(){return c}});var a=o(3863),n=o(1337),r=o(5059),i=o(5432),s=o(5893),l={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},u=(0,n.m)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),d=(0,r.G)(function(e,t){var o;let{placement:n="left",...r}=e,i=null!=(o=l[n])?o:{},d=(0,a.m)();return(0,s.jsx)(u,{ref:t,...r,__css:{...d.addon,...i}})});d.displayName="InputAddon";var c=(0,r.G)(function(e,t){return(0,s.jsx)(d,{ref:t,placement:"left",...e,className:(0,i.cx)("chakra-input__left-addon",e.className)})});c.displayName="InputLeftAddon",c.id="InputLeftAddon";var p=(0,r.G)(function(e,t){return(0,s.jsx)(d,{ref:t,placement:"right",...e,className:(0,i.cx)("chakra-input__right-addon",e.className)})});p.displayName="InputRightAddon",p.id="InputRightAddon"},7052:function(e,t,o){o.d(t,{o:function(){return a}});function a(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}},8356:function(e,t,o){o.d(t,{D5:function(){return f},O_:function(){return v}});var a,n,r=o(7294),i=o(3935);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)t.indexOf(o=r[a])>=0||(n[o]=e[o]);return n}let u="undefined"!=typeof window&&"undefined"!=typeof document?r.useLayoutEffect:r.useEffect,d=(e,t,o)=>{u(()=>{if(!e||!o)return;let a=(...t)=>void 0===t?o(e):o(e,...t);return kakao.maps.event.addListener(e,t,a),()=>{kakao.maps.event.removeListener(e,t,a)}},[e,t,o])};(a=n||(n={}))[a.INITIALIZED=0]="INITIALIZED",a[a.LOADING=1]="LOADING",a[a.SUCCESS=2]="SUCCESS",a[a.FAILURE=3]="FAILURE";class c{constructor({appkey:e,id:t="__reactKakaoMapsSdkloaderId",libraries:o=[],nonce:a,retries:n=3,url:r="//dapi.kakao.com/v2/maps/sdk.js"}){if(this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=t,this.appkey=e,this.libraries=o,this.nonce=a,this.retries=n,this.url=r,c.instance){if(!c.equalOptions(this.options,c.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(c.instance.options)}`);return c.instance}c.instance=this}get options(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}static isLoaded(){return new Promise(e=>c.instance?c.instance.status===n.FAILURE||c.instance.status===n.INITIALIZED?e(!1):(c.instance.status===n.LOADING&&c.loadcheckcallbacks.push(t=>e(!t)),e(!0)):window.kakao&&window.kakao.maps?window.kakao.maps.load(()=>{e(!0)}):c.loadcheckcallbacks.push(t=>{e(!t)}))}load(){return new Promise((e,t)=>{this.loadCallback(o=>{o?t(o.error):e(window.kakao)})})}get status(){return this.onerrorEvent?n.FAILURE:this.done?n.SUCCESS:this.loading?n.LOADING:n.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}loadCallback(e){this.callbacks.push(e),this.execute()}resetIfRetryingFailed(){this.failed&&this.reset()}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void window.kakao.maps.load(this.callback);this.loading||(this.loading=!0,this.setScript())}}setScript(){document.getElementById(this.id)&&this.callback();let e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}loadErrorCallback(e,t,o,a,n){if(this.errors.push({event:e,source:t,lineno:o,colno:a,error:n}),this.errors.length<=this.retries){let e=this.errors.length*2**this.errors.length;console.log(`Failed to load Kakao Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()}createUrl(){let e=this.url;return e+=`?appkey=${this.appkey}`,this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),e+="&autoload=false"}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}callback(){kakao.maps.load(()=>{this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[],c.loadcheckcallbacks.forEach(e=>{e(this.onerrorEvent)}),c.loadcheckcallbacks=[]})}static equalOptions(e,t){if(e.appkey!==t.appkey||e.id!==t.id||e.libraries.length!==t.libraries.length)return!1;for(let o=0;o<e.libraries.length;++o)if(e.libraries[o]!==t.libraries[o])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url}}c.instance=void 0,c.loadcheckcallbacks=[];let p=["id","as","children","center","isPanto","padding","disableDoubleClick","disableDoubleClickZoom","draggable","zoomable","keyboardShortcuts","level","maxLevel","minLevel","mapTypeId","projectionId","scrollwheel","tileAnimation","onBoundsChanged","onCenterChanged","onClick","onDoubleClick","onDrag","onDragEnd","onDragStart","onIdle","onMaptypeidChanged","onMouseMove","onRightClick","onTileLoaded","onZoomChanged","onZoomStart","onCreate"],k=r.createContext(void 0),f=r.forwardRef((e,t)=>{let{id:o,as:a,children:n,center:i,isPanto:f=!1,padding:m=32,disableDoubleClick:g,disableDoubleClickZoom:h,draggable:y,zoomable:v,keyboardShortcuts:w,level:C,maxLevel:L,minLevel:E,mapTypeId:I,projectionId:b,scrollwheel:M,tileAnimation:x,onBoundsChanged:O,onCenterChanged:S,onClick:z,onDoubleClick:R,onDrag:P,onDragEnd:A,onDragStart:D,onIdle:T,onMaptypeidChanged:N,onMouseMove:_,onRightClick:Z,onTileLoaded:W,onZoomChanged:H,onZoomStart:j,onCreate:G}=e,U=l(e,p),[F,B]=(0,r.useState)(!1),[V,$]=(0,r.useState)(),q=(0,r.useRef)(null);return u(()=>{c.isLoaded().then(B)},[]),u(()=>{if(!F)return;let e=q.current;if(!e)return;let t="lat"in i?new kakao.maps.LatLng(i.lat,i.lng):new kakao.maps.Coords(i.x,i.y),o=new kakao.maps.Map(e,{center:t,disableDoubleClick:g,disableDoubleClickZoom:h,draggable:y,keyboardShortcuts:w,level:C,mapTypeId:I,projectionId:b,scrollwheel:M,tileAnimation:x});return $(o),()=>{e.innerHTML=""}},[F,g,h,I,x]),(0,r.useImperativeHandle)(t,()=>V,[V]),u(()=>{V&&G&&G(V)},[V,G]),u(()=>{if(!V)return;let e=V.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());let t="lat"in i?new kakao.maps.LatLng(i.lat,i.lng):new kakao.maps.Coords(i.x,i.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(f?V.panTo(t,m):V.setCenter(t))},[V,i.lat,i.lng,i.x,i.y]),u(()=>{V&&void 0!==y&&V.setDraggable(y)},[V,y]),u(()=>{V&&void 0!==v&&V.setZoomable(v)},[V,v]),u(()=>{V&&w&&"boolean"==typeof w&&V.setKeyboardShortcuts(w)},[V,w]),u(()=>{V&&C&&V.setLevel(C)},[V,C]),u(()=>{V&&I&&V.setMapTypeId(I)},[V,I]),u(()=>{V&&b&&V.setProjectionId(b)},[V,b]),u(()=>{V&&L&&V.setMaxLevel(L)},[V,L]),u(()=>{V&&E&&V.setMinLevel(E)},[V,E]),d(V,"bounds_changed",O),d(V,"center_changed",S),d(V,"click",z),d(V,"dblclick",R),d(V,"drag",P),d(V,"dragstart",D),d(V,"dragend",A),d(V,"idle",T),d(V,"maptypeid_changed",N),d(V,"mousemove",_),d(V,"rightclick",Z),d(V,"tilesloaded",W),d(V,"zoom_changed",H),d(V,"zoom_start",j),r.createElement(r.Fragment,null,r.createElement(a||"div",s({id:o||"react-kakao-maps-sdk-map-container"},U,{ref:q})),V&&r.createElement(k.Provider,{value:V},n))}),m=e=>{let t=(0,r.useContext)(k);if(!t)throw Error((e?e+" Component":"useMap")+" must exist inside Map Component!");return t},g=r.forwardRef(({map:e,position:t,marker:o,children:a,altitude:n,disableAutoPan:s,range:l,removable:u,zIndex:d,onCreate:c},p)=>{let k=(0,r.useRef)(document.createElement("div")),f=(0,r.useMemo)(()=>{let e=new kakao.maps.InfoWindow({altitude:n,disableAutoPan:s,range:l,removable:u,zIndex:d,content:k.current,position:t});return k.current.style.display="none",e},[s,u]);return(0,r.useImperativeHandle)(p,()=>f,[f]),(0,r.useLayoutEffect)(()=>(f.open(e,o),()=>{f.close()}),[e,o]),(0,r.useLayoutEffect)(()=>{c&&c(f)},[f,c]),(0,r.useLayoutEffect)(()=>{f&&f.setPosition(t)},[f,t]),(0,r.useLayoutEffect)(()=>{f&&n&&f.setAltitude(n)},[f,n]),(0,r.useLayoutEffect)(()=>{f&&l&&f.setRange(l)},[f,l]),(0,r.useLayoutEffect)(()=>{f&&d&&f.setZIndex(d)},[f,d]),k.current.parentElement&&i.createPortal(a,k.current.parentElement)}),h=r.createContext(void 0),y=(r.forwardRef(({children:e,averageCenter:t,calculator:o,clickable:a,disableClickZoom:n,gridSize:i,hoverable:s,minClusterSize:l,minLevel:u,styles:c,texts:p,onClusterclick:k,onClusterdblclick:f,onClustered:g,onClusterout:y,onClusterover:v,onClusterrightclick:w,onCreate:C},L)=>{let E=m("MarkerClusterer"),I=(0,r.useMemo)(()=>{if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:t,calculator:o,clickable:a,disableClickZoom:n,gridSize:i,hoverable:s,minClusterSize:l,minLevel:u,styles:c,texts:p});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return(0,r.useImperativeHandle)(L,()=>I,[I]),(0,r.useLayoutEffect)(()=>{null==I||I.setMap(E)},[E,I]),(0,r.useLayoutEffect)(()=>{I&&C&&C(I)},[I,C]),(0,r.useLayoutEffect)(()=>{I&&i&&(I.setGridSize(i),I.redraw())},[I,i]),(0,r.useLayoutEffect)(()=>{I&&l&&(I.setMinClusterSize(l),I.redraw())},[I,l]),(0,r.useLayoutEffect)(()=>{I&&void 0!==t&&(I.setAverageCenter(t),I.redraw())},[I,t]),(0,r.useLayoutEffect)(()=>{I&&u&&(I.setMinLevel(u),I.redraw())},[I,u]),(0,r.useLayoutEffect)(()=>{I&&p&&(I.setTexts(p),I.redraw())},[I,p]),(0,r.useLayoutEffect)(()=>{I&&o&&(I.setCalculator(o),I.redraw())},[I,o]),(0,r.useLayoutEffect)(()=>{I&&c&&(I.setStyles(c),I.redraw())},[I,c]),d(I,"clusterclick",k),d(I,"clusterover",v),d(I,"clusterout",y),d(I,"clusterdblclick",f),d(I,"clusterrightclick",w),d(I,"clustered",g),I?r.createElement(h.Provider,{value:I},e):null}),r.forwardRef(({map:e,position:t,children:o,altitude:a,clickable:n,draggable:i,image:s,infoWindowOptions:l,onCreate:u,onClick:c,onDragEnd:p,onDragStart:k,onMouseOut:f,onMouseOver:m,opacity:y,range:v,title:w,zIndex:C},L)=>{let E=(0,r.useContext)(h),I=(0,r.useMemo)(()=>new kakao.maps.Marker({altitude:a,clickable:n,draggable:i,image:s,opacity:y,range:v,title:w,zIndex:C,position:t}),[]);return(0,r.useImperativeHandle)(L,()=>I,[I]),(0,r.useLayoutEffect)(()=>(E?E.addMarker(I):I.setMap(e),()=>{E?E.removeMarker(I):I.setMap(null)}),[e,E,I]),(0,r.useLayoutEffect)(()=>{u&&u(I)},[I,u]),d(I,"click",c),d(I,"dragstart",k),d(I,"dragend",p),d(I,"mouseout",f),d(I,"mouseover",m),(0,r.useLayoutEffect)(()=>{e&&I&&t&&I.setPosition(t)},[e,I,t]),(0,r.useLayoutEffect)(()=>{e&&I&&s&&I.setImage(s)},[e,I,s]),(0,r.useLayoutEffect)(()=>{e&&I&&a&&I.setAltitude(a)},[e,I,a]),(0,r.useLayoutEffect)(()=>{e&&I&&void 0!==n&&I.setClickable(n)},[e,I,n]),(0,r.useLayoutEffect)(()=>{e&&I&&void 0!==i&&I.setDraggable(i)},[e,I,i]),(0,r.useLayoutEffect)(()=>{e&&I&&y&&I.setOpacity(y)},[e,I,y]),(0,r.useLayoutEffect)(()=>{e&&I&&v&&I.setRange(v)},[e,I,v]),(0,r.useLayoutEffect)(()=>{e&&I&&w&&I.setTitle(w)},[e,I,w]),(0,r.useLayoutEffect)(()=>{e&&I&&C&&I.setZIndex(C)},[e,I,C]),o?r.createElement(g,{position:t,map:e,marker:I,altitude:null==l?void 0:l.altitude,disableAutoPan:null==l?void 0:l.disableAutoPan,range:null==l?void 0:l.range,removable:null==l?void 0:l.removable,zIndex:null==l?void 0:l.zIndex},o):null})),v=r.forwardRef(({image:e,position:t,children:o,clickable:a,draggable:n,infoWindowOptions:i,onClick:s,onDragEnd:l,onDragStart:u,onMouseOut:d,onMouseOver:c,onCreate:p,opacity:k,title:f,zIndex:g},h)=>{let v=m("MapMarker"),w=(0,r.useMemo)(()=>{var t,o,a,n,r,i,s,l,u,d,c,p;return e&&new kakao.maps.MarkerImage(e.src,new kakao.maps.Size(e.size.width,e.size.height),{alt:null==(t=e.options)?void 0:t.alt,coords:null==(o=e.options)?void 0:o.coords,offset:(null==(a=e.options)?void 0:a.offset)&&new kakao.maps.Point(null==(n=e.options)?void 0:n.offset.x,null==(r=e.options)?void 0:r.offset.y),shape:null==(i=e.options)?void 0:i.shape,spriteOrigin:(null==(s=e.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(l=e.options)?void 0:l.spriteOrigin.x,null==(u=e.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(d=e.options)?void 0:d.spriteSize)&&new kakao.maps.Size(null==(c=e.options)?void 0:c.spriteSize.width,null==(p=e.options)?void 0:p.spriteSize.height)})},[e]),C=(0,r.useMemo)(()=>"lat"in t?new kakao.maps.LatLng(t.lat,t.lng):new kakao.maps.Coords(t.x,t.y).toLatLng(),[t.lat,t.lng,t.x,t.y]);return r.createElement(y,{map:v,position:C,image:w,clickable:a,draggable:n,infoWindowOptions:i,onClick:s,onDragEnd:l,onDragStart:u,onMouseOut:d,onMouseOver:c,onCreate:p,opacity:k,title:f,zIndex:g,ref:h},o)}),w=(r.forwardRef(({position:e,children:t,disableAutoPan:o,removable:a,zIndex:n,onCreate:i},s)=>{let l=m("MapInfoWindow"),u=(0,r.useMemo)(()=>new kakao.maps.LatLng(e.lat,e.lng),[e.lat,e.lng]);return r.createElement(g,{disableAutoPan:o,removable:a,zIndex:n,map:l,position:u,onCreate:i,ref:s},t)}),r.forwardRef(({position:e,children:t,clickable:o,xAnchor:a,yAnchor:n,zIndex:s,onCreate:l},u)=>{let d=(0,r.useContext)(h),c=m("CustomOverlayMap"),p=(0,r.useRef)(document.createElement("div")),k=(0,r.useMemo)(()=>new kakao.maps.LatLng(e.lat,e.lng),[e.lat,e.lng]),f=(0,r.useMemo)(()=>{let e=new kakao.maps.CustomOverlay({clickable:o,xAnchor:a,yAnchor:n,zIndex:s,position:k,content:p.current});return p.current.style.display="none",e},[o,a,n]);return(0,r.useImperativeHandle)(u,()=>f,[f]),(0,r.useLayoutEffect)(()=>{if(c)return d?d.addMarker(f):f.setMap(c),()=>{d?d.removeMarker(f):f.setMap(null)}},[c,d,f]),(0,r.useLayoutEffect)(()=>{l&&l(f)},[f,l]),(0,r.useLayoutEffect)(()=>{f.setPosition(k)},[f,k]),(0,r.useLayoutEffect)(()=>{s&&f.setZIndex(s)},[f,s]),p.current.parentElement&&i.createPortal(t,p.current.parentElement)}),r.forwardRef(({position:e=kakao.maps.ControlPosition.TOPRIGHT},t)=>{let o=m("MapTypeControl"),a=(0,r.useMemo)(()=>new kakao.maps.MapTypeControl,[]);return(0,r.useImperativeHandle)(t,()=>a,[a]),(0,r.useLayoutEffect)(()=>(o.addControl(a,e),()=>{o.removeControl(a)}),[o,a,e]),null}),r.forwardRef(({position:e=kakao.maps.ControlPosition.RIGHT},t)=>{let o=m("ZoomControl"),a=(0,r.useMemo)(()=>new kakao.maps.ZoomControl,[]);return(0,r.useImperativeHandle)(t,()=>a,[a]),(0,r.useEffect)(()=>(o.addControl(a,e),()=>{o.removeControl(a)}),[o,e]),null}),r.forwardRef(({center:e,radius:t,fillColor:o,fillOpacity:a,strokeColor:n,strokeOpacity:i,strokeStyle:s,strokeWeight:l,zIndex:u,onMouseover:c,onMouseout:p,onMousemove:k,onMousedown:f,onClick:g,onCreate:h},y)=>{let v=m("Circle"),w=(0,r.useMemo)(()=>new kakao.maps.LatLng(e.lat,e.lng),[e.lat,e.lng]),C=(0,r.useMemo)(()=>new kakao.maps.Circle({center:w,radius:t,fillColor:o,fillOpacity:a,strokeColor:n,strokeOpacity:i,strokeStyle:s,strokeWeight:l,zIndex:u}),[]);return(0,r.useImperativeHandle)(y,()=>C,[C]),(0,r.useLayoutEffect)(()=>(C.setMap(v),()=>{C.setMap(null)}),[v,C]),(0,r.useLayoutEffect)(()=>{h&&h(C)},[C,h]),(0,r.useLayoutEffect)(()=>{C&&C.setPosition(w)},[C,w]),(0,r.useLayoutEffect)(()=>{C.setRadius(t)},[C,t]),(0,r.useLayoutEffect)(()=>{u&&C.setZIndex(u)},[C,u]),(0,r.useLayoutEffect)(()=>{C.setOptions({fillColor:o,fillOpacity:a,strokeColor:n,strokeOpacity:i,strokeStyle:s,strokeWeight:l})},[C,o,a,n,i,s,l]),d(C,"mouseover",c),d(C,"mouseout",p),d(C,"mousemove",k),d(C,"mousedown",f),d(C,"click",g),null}),r.forwardRef(({path:e,endArrow:t,onClick:o,onMousedown:a,onMousemove:n,onMouseout:i,onMouseover:s,onCreate:l,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:k,zIndex:f},g)=>{let h=m("Polyline"),y=(0,r.useMemo)(()=>e.every(e=>e instanceof Array)?e.map(e=>e.map(e=>new kakao.maps.LatLng(e.lat,e.lng))):e.map(e=>new kakao.maps.LatLng(e.lat,e.lng)),[e]),v=(0,r.useMemo)(()=>new kakao.maps.Polyline({path:y,endArrow:t,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:k,zIndex:f}),[]);return(0,r.useImperativeHandle)(g,()=>v,[v]),(0,r.useLayoutEffect)(()=>(v.setMap(h),()=>v.setMap(null)),[h,v]),(0,r.useLayoutEffect)(()=>{l&&l(v)},[v,l]),(0,r.useLayoutEffect)(()=>{v.setOptions({endArrow:t,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:k})},[v,t,u,c,p,k]),(0,r.useLayoutEffect)(()=>{v.setPath(y)},[v,y]),(0,r.useLayoutEffect)(()=>{f&&v.setZIndex(f)},[v,f]),d(v,"mouseover",s),d(v,"mouseout",i),d(v,"mousemove",n),d(v,"mousedown",a),d(v,"click",o),null}),r.forwardRef(({path:e,onClick:t,onMousedown:o,onMousemove:a,onMouseout:n,onMouseover:i,onCreate:s,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,fillColor:k,fillOpacity:f,zIndex:g},h)=>{let y=m("Polygon"),v=(0,r.useMemo)(()=>e.every(e=>e instanceof Array)?e.map(e=>e.map(e=>new kakao.maps.LatLng(e.lat,e.lng))):e.map(e=>new kakao.maps.LatLng(e.lat,e.lng)),[e]),w=(0,r.useMemo)(()=>new kakao.maps.Polygon({path:v,fillColor:k,fillOpacity:f,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,zIndex:g}),[]);return(0,r.useImperativeHandle)(h,()=>w,[w]),(0,r.useLayoutEffect)(()=>(w.setMap(y),()=>w.setMap(null)),[y,w]),(0,r.useLayoutEffect)(()=>{s&&s(w)},[w,s]),(0,r.useLayoutEffect)(()=>{w.setOptions({fillColor:k,fillOpacity:f,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p})},[w,k,f,l,u,c,p]),(0,r.useLayoutEffect)(()=>{w.setPath(v)},[w,v]),(0,r.useLayoutEffect)(()=>{g&&w.setZIndex(g)},[w,g]),d(w,"mouseover",i),d(w,"mouseout",n),d(w,"mousemove",a),d(w,"mousedown",o),d(w,"click",t),null}),r.forwardRef(({bounds:e,onClick:t,onMousedown:o,onMousemove:a,onMouseout:n,onMouseover:i,onCreate:s,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,fillColor:k,fillOpacity:f,zIndex:g},h)=>{let y=m("Rectangle"),v=(0,r.useMemo)(()=>new kakao.maps.LatLngBounds(new kakao.maps.LatLng(e.sw.lat,e.sw.lng),new kakao.maps.LatLng(e.ne.lat,e.ne.lng)),[e]),w=(0,r.useMemo)(()=>new kakao.maps.Rectangle({bounds:v,fillColor:k,fillOpacity:f,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,zIndex:g}),[]);return(0,r.useImperativeHandle)(h,()=>w,[w]),(0,r.useLayoutEffect)(()=>(w.setMap(y),()=>w.setMap(null)),[y,w]),(0,r.useLayoutEffect)(()=>{s&&s(w)},[w,s]),(0,r.useLayoutEffect)(()=>{w.setOptions({fillColor:k,fillOpacity:f,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p})},[w,k,f,l,u,c,p]),(0,r.useLayoutEffect)(()=>{w.setBounds(v)},[w,v]),(0,r.useLayoutEffect)(()=>{g&&w.setZIndex(g)},[w,g]),d(w,"mouseover",i),d(w,"mouseout",n),d(w,"mousemove",a),d(w,"mousedown",o),d(w,"click",t),null}),r.forwardRef(({center:e,rx:t,ry:o,fillColor:a,fillOpacity:n,strokeColor:i,strokeOpacity:s,strokeStyle:l,strokeWeight:u,zIndex:c,onMouseover:p,onMouseout:k,onMousemove:f,onMousedown:g,onClick:h,onCreate:y},v)=>{let w=m("Ellipse"),C=(0,r.useMemo)(()=>new kakao.maps.LatLng(e.lat,e.lng),[e.lat,e.lng]),L=(0,r.useMemo)(()=>new kakao.maps.Ellipse({center:C,rx:t,ry:o,fillColor:a,fillOpacity:n,strokeColor:i,strokeOpacity:s,strokeStyle:l,strokeWeight:u,zIndex:c}),[]);return(0,r.useImperativeHandle)(v,()=>L,[L]),(0,r.useLayoutEffect)(()=>(L.setMap(w),()=>{L.setMap(null)}),[w,L]),(0,r.useLayoutEffect)(()=>{y&&y(L)},[L,y]),(0,r.useLayoutEffect)(()=>{L&&L.setPosition(C)},[L,C]),(0,r.useLayoutEffect)(()=>{L.setRadius(t,o)},[L,t,o]),(0,r.useLayoutEffect)(()=>{c&&L.setZIndex(c)},[L,c]),(0,r.useLayoutEffect)(()=>{L.setOptions({fillColor:a,fillOpacity:n,strokeColor:i,strokeOpacity:s,strokeStyle:l,strokeWeight:u})},[L,a,n,i,s,l,u]),d(L,"mouseover",p),d(L,"mouseout",k),d(L,"mousemove",f),d(L,"mousedown",g),d(L,"click",h),null}),r.forwardRef(({draw:e,onAdd:t,onRemove:o,onCreate:a},n)=>{let i=m(),s=(0,r.useMemo)(()=>{class a extends kakao.maps.AbstractOverlay{constructor(e,t,o){super(),this.draw=e,this.onAdd=t,this.onRemove=o}}return new a(e,t,o)},[e,t,o]);return(0,r.useImperativeHandle)(n,()=>s,[s]),(0,r.useLayoutEffect)(()=>(s.setMap(i),()=>{s.setMap(null)}),[i,s]),(0,r.useLayoutEffect)(()=>{a&&a(s)},[s,a]),null}),["id","as","children","position","pan","panoId","panoX","panoY","tilt","zoom","onCreate","onInit","onPanoidChange","onPositionChanged","onViewpointChange","onErrorGetNearestPanoId"]),C=r.createContext(void 0),L=(r.forwardRef((e,t)=>{let{id:o,as:a,children:n,position:i,pan:p,panoId:k,panoX:f,panoY:m,tilt:g,zoom:h,onCreate:y,onInit:v,onPanoidChange:L,onPositionChanged:E,onViewpointChange:I,onErrorGetNearestPanoId:b}=e,M=l(e,w),[x,O]=(0,r.useState)(!1),[S,z]=(0,r.useState)(!0),[R,P]=(0,r.useState)(),A=(0,r.useRef)(null);return u(()=>{c.isLoaded().then(O)},[]),u(()=>{if(!x)return;let e=A.current;if(!e)return;let t=new kakao.maps.Roadview(e,{pan:p,panoId:k,panoX:f,panoY:m,tilt:g,zoom:h});return P(t),()=>{e.innerHTML=""}},[x,f,m,h]),(0,r.useImperativeHandle)(t,()=>R,[R]),u(()=>{R&&y&&y(R)},[R,y]),u(()=>{if(!R||k||R.getPosition().getLat()===i.lat&&R.getPosition().getLng()===i.lng)return;let e=new kakao.maps.LatLng(i.lat,i.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,i.radius,t=>{null===t&&b?b(R):R.setPanoId(t,e)})},[R,k,i.lat,i.lng,i.radius,b]),u(()=>{if(!R||!k||k===R.getPanoId()||R.getPosition().getLat()===i.lat&&R.getPosition().getLng()===i.lng)return;let e=new kakao.maps.LatLng(i.lat,i.lng);R.setPanoId(k,e)},[R,k,i.lat,i.lng]),u(()=>{if(!R)return;let e=R.getViewpoint();e.pan===p&&e.tilt===g||(p&&(e.pan=p),g&&(e.tilt=g),R.setViewpoint(e))},[R,p,g]),d(R,"init",e=>{z(!1),v&&v(e)}),d(R,"panoid_changed",L),d(R,"viewpoint_changed",I),d(R,"position_changed",E),r.createElement(r.Fragment,null,r.createElement(a||"div",s({ref:A,id:o||"react-kakao-maps-sdk-roadview-container"},M)),R&&!S&&r.createElement(C.Provider,{value:R},n))}),e=>{let t=(0,r.useContext)(C);if(!t)throw Error((e?e+" Component":"useRoadview")+" must exist inside Roadview Component!");return t}),E=(r.forwardRef(({position:e,children:t,clickable:o,xAnchor:a,yAnchor:n,zIndex:s,altitude:l,range:u,onCreate:d},c)=>{let p=L("CustomOverlayRoadview"),k=(0,r.useRef)(document.createElement("div")),f=(0,r.useMemo)(()=>"lat"in e?new kakao.maps.LatLng(e.lat,e.lng):new kakao.maps.Viewpoint(e.pan,e.tilt,e.zoom,e.panoId),[e.lat,e.lng,e.pan,e.tilt,e.zoom,e.panoId]),m=(0,r.useMemo)(()=>{let e=new kakao.maps.CustomOverlay({clickable:o,xAnchor:a,yAnchor:n,zIndex:s,position:f,content:k.current});return k.current.style.display="none",e},[o,a,n]);return(0,r.useImperativeHandle)(c,()=>m,[m]),(0,r.useLayoutEffect)(()=>{if(p)return m.setMap(p),()=>{m.setMap(null)}},[m,p]),(0,r.useLayoutEffect)(()=>{d&&d(m)},[m,d]),(0,r.useLayoutEffect)(()=>{m.setPosition(f)},[m,f]),(0,r.useLayoutEffect)(()=>{s&&m.setZIndex(s)},[m,s]),(0,r.useLayoutEffect)(()=>{l&&m.setAltitude(l)},[m,l]),(0,r.useLayoutEffect)(()=>{u&&m.setRange(u)},[m,u]),k.current.parentElement&&i.createPortal(t,k.current.parentElement)}),r.forwardRef(({image:e,position:t,children:o,altitude:a,clickable:n,infoWindowOptions:i,onClick:s,onDragEnd:l,onDragStart:u,onMouseOut:d,onMouseOver:c,onCreate:p,opacity:k,range:f,title:m,zIndex:g},h)=>{let v=L("RoadviewMarker"),w=(0,r.useMemo)(()=>{var t,o,a,n,r,i,s,l,u,d,c,p;return e&&new kakao.maps.MarkerImage(e.src,new kakao.maps.Size(e.size.width,e.size.height),{alt:null==(t=e.options)?void 0:t.alt,coords:null==(o=e.options)?void 0:o.coords,offset:(null==(a=e.options)?void 0:a.offset)&&new kakao.maps.Point(null==(n=e.options)?void 0:n.offset.x,null==(r=e.options)?void 0:r.offset.y),shape:null==(i=e.options)?void 0:i.shape,spriteOrigin:(null==(s=e.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(l=e.options)?void 0:l.spriteOrigin.x,null==(u=e.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(d=e.options)?void 0:d.spriteSize)&&new kakao.maps.Size(null==(c=e.options)?void 0:c.spriteSize.width,null==(p=e.options)?void 0:p.spriteSize.height)})},[e]),C=(0,r.useMemo)(()=>"lat"in t?new kakao.maps.LatLng(t.lat,t.lng):"x"in t?new kakao.maps.Coords(t.x,t.y).toLatLng():new kakao.maps.Viewpoint(t.pan,t.tilt,t.zoom,t.panoId),[t.lat,t.lng,t.x,t.y,t.pan,t.tilt,t.zoom,null==t?void 0:t.panoId]);return r.createElement(y,{map:v,position:C,image:w,altitude:a,clickable:n,infoWindowOptions:i,onClick:s,onDragEnd:l,onDragStart:u,onMouseOut:d,onMouseOver:c,onCreate:p,opacity:k,range:f,title:m,zIndex:g,ref:h},o)}),r.forwardRef(({position:e,children:t,altitude:o,disableAutoPan:a,range:n,removable:i,zIndex:s,onCreate:l},u)=>{let d=L("RoadviewInfoWindow"),c=(0,r.useMemo)(()=>"lat"in e?new kakao.maps.LatLng(e.lat,e.lng):new kakao.maps.Viewpoint(e.pan,e.tilt,e.zoom,e.panoId),[e.lat,e.lng,e.pan,e.tilt,e.zoom,e.panoId]);return r.createElement(g,{altitude:o,disableAutoPan:a,range:n,removable:i,zIndex:s,map:d,position:c,onCreate:l,ref:u},t)}),r.createContext(void 0));function I(e,t,o){(0,r.useLayoutEffect)(()=>{e&&o&&e.addListener(t,(...t)=>void 0===t?o(e):o(e,...t))},[o,e,t])}r.forwardRef(function({arrowOptions:e,circleOptions:t,ellipseOptions:o,markerOptions:a,polygonOptions:n,polylineOptions:i,rectangleOptions:s,drawingMode:l,guideTooltip:u,onSelect:d,onDrawstart:c,onDraw:p,onDrawend:k,onDrawnext:f,onCancle:g,onRemove:h,onStateChanged:y,onCreate:v,children:w},C){let L=m("Toolbox"),b=(0,r.useMemo)(()=>{if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:L,drawingMode:l,guideTooltip:u,arrowOptions:e,circleOptions:t,ellipseOptions:o,markerOptions:a,polygonOptions:n,polylineOptions:i,rectangleOptions:s});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return(0,r.useImperativeHandle)(C,()=>b,[b]),(0,r.useLayoutEffect)(()=>{b&&v&&v(b)},[b,v]),I(b,"select",d),I(b,"drawstart",c),I(b,"draw",p),I(b,"drawend",k),I(b,"drawnext",f),I(b,"cancel",g),I(b,"remove",h),I(b,"state_changed",y),b?r.createElement(E.Provider,{value:b},w):null}),r.forwardRef(function({position:e},t){e=e||kakao.maps.ControlPosition.TOP;let o=m("Toolbox"),a=(0,r.useContext)(E);if(!a)throw Error("Toolbox must exist inside DrawingManager Component!`");let n=(0,r.useMemo)(()=>new kakao.maps.drawing.Toolbox({drawingManager:a}),[a]);return(0,r.useImperativeHandle)(t,()=>n,[n]),(0,r.useLayoutEffect)(()=>{let t=n.getElement();return o.addControl(t,e),()=>{o.removeControl(t)}},[o,n,e]),null}),r.forwardRef(({id:e="react-kakao-maps-sdk-staticmap-container",style:t,className:o,center:a,marker:n,level:i,mapTypeId:l,onCreate:d},c)=>{let[p,k]=(0,r.useState)(),f=(0,r.useRef)(null);return u(()=>{if(!window.kakao)return void console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`");let e=f.current;e&&kakao.maps.load(()=>{let t=Array.isArray(n)?n.map(e=>s({},e,{position:new kakao.maps.LatLng(e.position.lat,e.position.lng)})):"object"==typeof n&&n.position?s({},n,{position:new kakao.maps.LatLng(n.position.lat,n.position.lng)}):n,o=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(a.lat,a.lng),level:i,mapTypeId:l,marker:t});k(o)})},[JSON.stringify(n)]),(0,r.useImperativeHandle)(c,()=>p,[p]),u(()=>{p&&p.setCenter(new kakao.maps.LatLng(a.lat,a.lng))},[p,a.lat,a.lng]),u(()=>{p&&i&&p.setLevel(i)},[p,i]),u(()=>{p&&l&&p.setMapTypeId(l)},[p,l]),u(()=>{p&&d&&d(p)},[p,d]),r.createElement("div",{id:e,style:t,className:o,ref:f})})}}]);